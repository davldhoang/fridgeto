(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(33),o=a(23),s=(a(58),a(59),a(60),a(8)),m=a(12),u=a(10),d=a(9),h=a(11),p=a(108),E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"page-header section-dark",style:{backgroundImage:"url("+a(61)+")"}},l.a.createElement("div",{className:"filter"}),l.a.createElement("div",{className:"content-center"},l.a.createElement(p.a,null,l.a.createElement("div",{className:"title-brand"},l.a.createElement("h1",null,"Welcome To Fridgeto")),l.a.createElement("h2",{className:"presentation-subtitle text-center"},"The best place to find out how to cook.")))))}}]),t}(n.Component),g=a(4),f=a.n(g),b=a(109),v=a(110),y=a(111),N=a(112),C=a(113),j=a(114),O=a(25),k=a.n(O),S=function(){var e=O.get("session");return void 0===e?{}:JSON.parse(e)},w=l.a.createContext(S()),x=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).toggleNavbarCollapse=function(){e.setState({navbarCollapse:!0}),document.documentElement.classList.toggle("nav-open")},e.state={link:"login",navbarCollapse:0},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){void 0===S().authenticated?this.setState({link:"login"}):this.setState({link:"logout"})}},{key:"render",value:function(){return l.a.createElement(b.a,{className:f()("fixed-top"),expand:"lg"},l.a.createElement(p.a,null,l.a.createElement("div",{className:"navbar-translate"},l.a.createElement(v.a,{"data-placement":"bottom",href:"/index"},"Fridgeto"),l.a.createElement("button",{className:f()("navbar-toggler navbar-toggler",{}),onClick:this.toggleNavbarCollapse},l.a.createElement("span",{className:"navbar-toggler-bar bar1"}),l.a.createElement("span",{className:"navbar-toggler-bar bar2"}),l.a.createElement("span",{className:"navbar-toggler-bar bar3"}))),l.a.createElement(y.a,{className:"justify-content-end",navbar:!0},l.a.createElement(N.a,{navbar:!0},l.a.createElement(C.a,null,l.a.createElement(j.a,{href:"/index02"},"Home")),l.a.createElement(C.a,null,l.a.createElement(j.a,{href:"/search"},"Search")),l.a.createElement(C.a,null,l.a.createElement(j.a,{href:"/addrecipe"},"Add Recipe")),l.a.createElement(C.a,null,l.a.createElement(j.a,{href:"/profile"},"Profile")),l.a.createElement(C.a,null,l.a.createElement(j.a,{id:"lg",href:"/"+this.state.link},this.state.link))))))}}]),t}(n.Component),I=a(115),D=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{className:"footer footer-black footer-white"},l.a.createElement(p.a,null,l.a.createElement(I.a,null,l.a.createElement("div",{className:"credits ml-auto"},l.a.createElement("span",{className:"copyright"},"\xa9 ",(new Date).getFullYear(),", made with"," ",l.a.createElement("i",{className:"fa fa-heart heart"})," by David Hoang")))))}}]),t}(n.Component),F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(E,null),l.a.createElement(D,null))}}]),t}(n.Component);var T=function(){var e=l.a.createRef();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{backgroundImage:"url("+a(70)+")"},className:"page-header page-header-xs","data-parallax":!0,ref:e},l.a.createElement("div",{className:"filter"})))},A=a(116),L=a(117),R=a(118),M=a(119),_=a(120),q=a(121),P=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).state={recipes:[]},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/recipes").then((function(e){return e.json()})).then((function(t){e.setState({recipes:t})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"section section-dark text-center"},l.a.createElement(p.a,null,l.a.createElement("h2",{className:"title"},"Latest Recipes"),l.a.createElement(I.a,null,this.state.recipes.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("a",{href:"/details/"+e._id},l.a.createElement(A.a,{md:"4"},l.a.createElement(L.a,{style:{width:"20rem"}},l.a.createElement(R.a,{width:"10rem",height:"10rem",top:!0,src:a(26)("./"+e.images[0]),onError:function(e){e.target.onerror=null,e.target.src="https://www.charlotteathleticclub.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png"},alt:"Img Not Found"}),l.a.createElement(M.a,null,l.a.createElement(_.a,null,e.recipeName),l.a.createElement(q.a,null,e.description))))))}))))))}}]),t}(n.Component),U=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(T,null),l.a.createElement(P,null),l.a.createElement(D,null))}}]),t}(n.Component),B=a(14),H=a(122),V=a(123),$=a(124),J=a(125),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,l=t.name;a.setState(Object(B.a)({},l,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/login",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){if(200===e.status){var t=e.url,n=t.substring(t.indexOf("=")+1);l={authenticated:n},O.remove("session"),O.set("session",l,{expires:14}),console.log("logged with "+n),a.props.history.push("/")}else alert("Wrong username or password.");var l})).catch((function(e){console.error(e)}))},a.state={username:"",password:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){void 0!==S().authenticated&&this.props.history.push("/")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement("div",{className:"section section-image section-login",style:{backgroundImage:"url("+a(41)+")"}},l.a.createElement(p.a,null,l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"mx-auto",lg:"4",md:"6"},l.a.createElement(L.a,{className:"card-register"},l.a.createElement("h3",{className:"title mx-auto"},"Welcome"),l.a.createElement(H.a,{className:"register-form",onSubmit:this.onSubmit},l.a.createElement("label",null,"Username"),l.a.createElement(V.a,{className:"form-group-no-border"},l.a.createElement($.a,{type:"text",name:"username",placeholder:"Enter Username",value:this.state.username,onChange:this.handleInputChange,required:!0})),l.a.createElement("label",null,"Password"),l.a.createElement(V.a,{className:"form-group-no-border"},l.a.createElement($.a,{type:"password",name:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleInputChange,required:!0})),l.a.createElement(J.a,{block:!0,className:"btn-round",color:"danger",type:"submit"},"Login"))),l.a.createElement("div",{className:"col text-center"},"Don't have an account? \u200d \u200d",l.a.createElement(J.a,{className:"btn-round",outline:!0,color:"neutral",href:"/register",size:"lg"},"Sign up"))))))," ",l.a.createElement(D,null))}}]),t}(n.Component),z=a(131),G=a(126),Y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleInputChange=function(t){var a=e.state.profile,n=t.target,l=n.value;a[n.name]=l,e.setState({profile:a})},e.onSubmit=function(t){t.preventDefault();var a=e.state.profile.userName;fetch("/api/profile/"+a,{method:"PUT",body:JSON.stringify({fullName:e.state.profile.fullName,userName:e.state.profile.userName,email:e.state.profile.email}),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){if(200!==t.status)throw new Error(t.error);console.log(t),e.setState({profileModal:!1})})).catch((function(e){console.error(e)}))},e.state={profile:"",recipes:[],loginModal:!1,profileModal:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=S();fetch("/api/profile/"+t.authenticated,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({profile:t})})),fetch("/api/recipeCreator/"+t.authenticated).then((function(e){return console.log(e),e.json()})).then((function(t){console.log(t),e.setState({recipes:t})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(T,null),l.a.createElement("div",{className:"section section-detail-recipe text-center description"},l.a.createElement("div",{className:"section profile-content"},l.a.createElement(p.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"owner"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{alt:"...",className:"img-circle img-no-padding img-responsive",src:"https://cdn3.iconfinder.com/data/icons/avatars-round-flat/33/avat-01-512.png"})),l.a.createElement("div",{className:"name"},l.a.createElement("h4",{className:"title"},this.state.profile.userName," ",l.a.createElement("br",null)),l.a.createElement("h6",{className:"description"},this.state.profile.email))),l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"ml-auto mr-auto text-center",md:"6"},l.a.createElement("p",null,this.state.profile.fullName),l.a.createElement("br",null))),l.a.createElement("br",null),l.a.createElement(J.a,{color:"danger",type:"button",onClick:function(){return e.setState({profileModal:!0})}},"Edit"),l.a.createElement(z.a,{isOpen:this.state.profileModal,toggle:function(){return e.setState({profileModal:!1})},modalClassName:"modal-register"},l.a.createElement("div",{className:"modal-header no-border-header text-center"},l.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:function(){return e.setState({profileModal:!1})}},l.a.createElement("span",{"aria-hidden":!0},"\xd7")),l.a.createElement("h6",{className:"text-muted"},"Welcome"),l.a.createElement("h3",{className:"modal-title text-center"},"Edit Your Profile")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(G.a,null,l.a.createElement("label",null,"Username"),l.a.createElement($.a,{name:"userName",defaultValue:this.state.profile.userName,placeholder:"user name",type:"text",readOnly:!0,onChange:this.handleInputChange})),l.a.createElement(G.a,null,l.a.createElement("label",null,"Email"),l.a.createElement($.a,{defaultValue:this.state.profile.email,placeholder:"email",type:"text",onChange:this.handleInputChange,name:"email"})),l.a.createElement(G.a,null,l.a.createElement("label",null,"Full Name"),l.a.createElement($.a,{name:"fullName",defaultValue:this.state.profile.fullName,placeholder:"Full name",type:"text",onChange:this.handleInputChange})),l.a.createElement(J.a,{block:!0,className:"btn-round",color:"default"},"Update"))))))),l.a.createElement("div",{className:"section section-dark text-center"},l.a.createElement(p.a,null,l.a.createElement("h2",{className:"title"},"Your Recipes"),l.a.createElement(I.a,null,this.state.recipes.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement(A.a,{md:"4"},l.a.createElement(L.a,{style:{width:"20rem"}},l.a.createElement("a",{href:"/details/"+e._id},l.a.createElement(R.a,{width:"10rem",height:"10rem",top:!0,src:a(26)("./"+e.images[0]),onError:function(e){e.target.onerror=null,e.target.src="https://www.charlotteathleticclub.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png"},alt:"Img Not Found"}),l.a.createElement(M.a,null,l.a.createElement(_.a,null,e.recipeName),l.a.createElement(q.a,null,e.description))),l.a.createElement("a",{href:"/edit/"+e._id},l.a.createElement(J.a,{color:"danger",type:"button"},"Edit")))))}))),l.a.createElement(J.a,{className:"btn-link",color:"danger",href:"/addrecipe"},"Want to add a new recipe?"))),l.a.createElement(D,null))}}]),t}(n.Component),K=a(22),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,l=t.name;a.setState(Object(B.a)({},l,n))},a.onSubmit=function(e){e.preventDefault(),fetch("/api/profile",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){200===e.status?a.props.history.push("/"):alert("A user with the given username or email already exists.")})).catch((function(e){console.error(e)}))},a.state={fullName:"",email:"",username:"",password:"",avatar:""},a.responseFacebook=a.responseFacebook(Object(K.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"responseGoogle",value:function(e){console.log("responseGoogle",e)}},{key:"responseFacebook",value:function(e){console.log("responseFacebook",e)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement("div",{className:"section section-image section-login",style:{backgroundImage:"url("+a(41)+")"}},l.a.createElement(p.a,null,l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"mx-auto",lg:"4",md:"6"},l.a.createElement(L.a,{className:"card-register"},l.a.createElement("h3",{className:"title mx-auto"},"Welcome"),l.a.createElement(H.a,{onSubmit:this.onSubmit},l.a.createElement("label",null,"Full Name"),l.a.createElement(V.a,{className:"form-group-no-border"},l.a.createElement($.a,{type:"text",name:"fullName",placeholder:"Enter Full Name",value:this.state.fullName,onChange:this.handleInputChange,required:!0})),l.a.createElement("label",null,"Email"),l.a.createElement(V.a,{className:"form-group-no-border"},l.a.createElement($.a,{type:"text",name:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.handleInputChange,required:!0})),l.a.createElement("label",null,"Username"),l.a.createElement(V.a,{className:"form-group-no-border"},l.a.createElement($.a,{type:"text",name:"userName",placeholder:"Enter Username",value:this.state.userName,onChange:this.handleInputChange,required:!0})),l.a.createElement("label",null,"Password"),l.a.createElement(V.a,{className:"form-group-no-border"},l.a.createElement($.a,{type:"password",name:"userPassword",placeholder:"Enter Password",value:this.state.userPassword,onChange:this.handleInputChange,required:!0})),l.a.createElement(J.a,{block:!0,className:"btn-round",color:"danger",type:"submit"},"Register"))),l.a.createElement("div",{className:"col text-center"},"Already have an account? \u200d \u200d",l.a.createElement(J.a,{className:"btn-round",outline:!0,color:"neutral",href:"/login",size:"lg"},"Login"))))))," ",l.a.createElement(D,null))}}]),t}(n.Component),X=a(130),Z=a(127),ee=a(128),te=a(20),ae=(a(32),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleInputChange=function(t){var a=t.target,n=a.value,l=a.name;e.setState(Object(B.a)({},l,n))},e.onSubmit=function(t){if(t.preventDefault(),e.isFormValid()){var a=e.props.match.params.id;fetch("/api/comment/"+a,{method:"POST",body:JSON.stringify(e.state),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){if(200!==e.status)throw Object(te.b)("Your comment could NOT be saved.",{autoClose:3e3}),new Error(e.error);Object(te.b)("Your comment was saved",{autoClose:3e3}),window.location.reload()})).catch((function(e){console.error(e)}))}else Object(te.b)("All fields are required.",{autoClose:3e3})},e.state={recipe:[],comments:[],username:"",loading:!1,numcomments:0,carouselItems:[{src:"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_1692f925835%20text%20%7B%20fill%3A%23555%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_1692f925835%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22285.921875%22%20y%3D%22218.45%22%3EFirst%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E"}]},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=S(),a=this.props.match.params.id;this.setState({id:a}),this.setState({loading:!0}),fetch("/api/recipe/"+a).then((function(e){return e.json()})).then((function(t){e.setState({recipe:t})})),fetch("/api/comment/"+a).then((function(e){return e.json()})).then((function(t){e.setState({comments:t}),console.log(e.state.comments),e.setState({numcomments:t[0].comments.length}),console.log(e.state.numcomments)})),fetch("/api/profile/"+t.authenticated,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({userName:t.userName})}))}},{key:"isFormValid",value:function(){return""!==this.state.content}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(T,null),l.a.createElement("div",{className:"section section-dark text-center description"},this.state.recipe.map((function(t){return l.a.createElement("div",{key:t._id},l.a.createElement(p.a,null,l.a.createElement("h1",null,t.recipeName),l.a.createElement(X.a,{items:e.state.carouselItems}),t.images.map((function(e){return l.a.createElement("img",{key:e,width:"250rem",height:"220rem",src:a(26)("./"+e),onError:function(e){e.target.onerror=null,e.target.src="https://www.charlotteathleticclub.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png"},alt:"Img Not Found"})})),l.a.createElement("h4",null,t.description),l.a.createElement("br",null),l.a.createElement("p",{style:{textAlign:"justify"}},t.method),l.a.createElement("br",null),l.a.createElement(Z.a,{flush:!0,className:"section-nude"},l.a.createElement(ee.a,null,"Nutrition: ",t.nutrition),l.a.createElement(ee.a,null,"Hard Level: ",t.hardLevel),l.a.createElement(ee.a,null,"Cooking Time (min): ",t.cookingTime)),l.a.createElement("br",null),l.a.createElement("h4",null,"Ingredients"),l.a.createElement("br",null),t.ingredients.map((function(e){return l.a.createElement(Z.a,{flush:!0,className:"section-nude",key:e._id+"x"},l.a.createElement(ee.a,{key:e._id,style:{textAlign:"center"}},l.a.createElement(I.a,null,l.a.createElement(A.a,null,e.ingredientName),l.a.createElement(A.a,null,e.amount))))})),l.a.createElement("br",null)))}))),l.a.createElement("form",{method:"post",onSubmit:this.onSubmit},l.a.createElement("div",{className:"col-8  pt-5"},l.a.createElement("h6",null,"Say something about our recipes"),l.a.createElement("div",{className:"form-group"}),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{onChange:this.handleInputChange,value:this.state.content,className:"form-control",placeholder:"Enter your comment",rows:"6",name:"content",required:!0})),l.a.createElement("input",{type:"submit",value:"Add Comment"})),l.a.createElement(te.a,null),l.a.createElement("br",null),l.a.createElement("div",{className:"commentList"},l.a.createElement("h5",{className:"text-muted mb-4"},l.a.createElement("span",{className:"badge badge-success"},this.state.numcomments)," ","Comment",this.state.numcomments>0?"s":""),0===this.state.numcomments?l.a.createElement("div",{className:"alert text-center alert-info"},"Be the first to comment"):null,this.state.comments.map((function(e){return l.a.createElement(l.a.Fragment,null,e.comments.map((function(e,t){return l.a.createElement("div",{className:"media mb-3",key:t},l.a.createElement("img",{className:"mr-3 bg-light rounded",width:"48",height:"48",src:"https://cdn0.iconfinder.com/data/icons/free-daily-icon-set/512/Comments-512.png",alt:"{name}"}),l.a.createElement("div",{className:"media-body p-2 shadow-sm rounded bg-light border"},l.a.createElement("small",{className:"float-right text-muted"},e.commentDate),l.a.createElement("h6",{className:"mt-0 mb-1 text-muted"},e.userName),e.content))})))})))),l.a.createElement(D,null))}}]),t}(n.Component)),ne=a(34),le=a.n(ne),re=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this)))._handleKeyDown=function(t){"Enter"===t.key&&(e.setState({value:t.target.value}),e.onAddItem())},e.anyIng=function(t){t.preventDefault();fetch("/api/findRecipesByAnyIngredients",{method:"POST",body:JSON.stringify({ingredients:e.state.ingredients}),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){t.length<1&&Object(te.b)("No results",{autoClose:3e3}),e.setState({recipes:t})}))},e.allIng=function(t){t.preventDefault();fetch("/api/findRecipesByAllIngredients",{method:"POST",body:JSON.stringify({ingredients:e.state.ingredients}),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){t.length<1&&Object(te.b)("No results",{autoClose:3e3}),e.setState({recipes:t})}))},e.onChangeValue=function(t){e.setState({value:t.target.value})},e.onRemoveItem=function(t){e.setState((function(e){return{ingredients:e.ingredients.filter((function(e,a){return t!==a}))}}))},e.onAddItem=function(){e.setState((function(e){return{ingredients:e.ingredients.concat(e.value),value:""}}))},e.state={recipes:[],value:"",ingredients:[]},e.handleSubmit=e.handleSubmit.bind(Object(K.a)(e)),e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){console.log(this.state.ingredients,"$$$$"),e.preventDefault()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(T,null),l.a.createElement("div",{align:"center"},l.a.createElement("br",null),l.a.createElement("h1",null,"Search by ingredients:"),l.a.createElement("br",null),l.a.createElement("table",{border:"0"},this.state.ingredients.map((function(t,a){return l.a.createElement("tbody",{key:a},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("h3",null,t)),l.a.createElement("td",null,l.a.createElement("a",{href:"###"}," ",l.a.createElement("img",{src:"https://ya-webdesign.com/transparent250_/edit-delete-icon-png-4.png",alt:"rem",with:"15",height:"15",onClick:function(){return e.onRemoveItem(a)}})))))}))),l.a.createElement("br",null),l.a.createElement("input",{type:"text",size:"20",value:this.state.value,onChange:this.onChangeValue,placeholder:"Enter ingredient",onKeyDown:this._handleKeyDown}),l.a.createElement("button",{type:"button",onClick:this.onAddItem,disabled:!this.state.value},"Add")),l.a.createElement("br",null),l.a.createElement("div",{align:"center"},l.a.createElement(le.a,{onClick:this.anyIng},"Show me recipes with any given ingredient"),l.a.createElement(le.a,{onClick:this.allIng},"Show me recipes with all given ingredients")),l.a.createElement("br",null),l.a.createElement("div",{align:"center",color:"red"}," ",l.a.createElement(te.a,null)),l.a.createElement("div",{className:"section section-dark text-center"},l.a.createElement(p.a,null,l.a.createElement(I.a,null,this.state.recipes.map((function(e){return l.a.createElement("div",{key:e._id},l.a.createElement("a",{href:"/details/"+e._id},l.a.createElement(A.a,{md:"4",align:"center"},l.a.createElement(L.a,{style:{width:"20rem"}},l.a.createElement(R.a,{width:"10rem",height:"10rem",top:!0,src:a(26)("./"+e.images[0]),onError:function(e){e.target.onerror=null,e.target.src="https://www.charlotteathleticclub.com/assets/camaleon_cms/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef.png"},alt:"Img Not Found"}),l.a.createElement(M.a,null,l.a.createElement(_.a,null,e.recipeName),l.a.createElement(q.a,null,e.description))))))}))))),l.a.createElement(D,null))}}]),t}(n.Component),ce=a(28),ie=a(24),oe=a(29),se=a.n(oe),me=a(129),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,l=t.name;a.setState(Object(B.a)({},l,n))},a.onSubmit=function(e){e.preventDefault();for(var t=new FormData,n=Date.now(),l=0;l<a.state.imagesfile.length;l++){var r=n+l+"."+a.state.imagesfile[l].name.split(".").pop();a.state.images.push(r),t.append("file",a.state.imagesfile[l],r),t.append("filename",r)}fetch("/api/recipe",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){if(200!==e.status)throw alert("Recipe failed to be saved. Please try again."),new Error(e.error);se.a.post("/api/upload",t).then((function(e){})),alert("Recipe added."),a.setState({toDashboard:!0})})).catch((function(e){console.error(e)}))},a.onChangeHandler=function(e){a.setState({imagesfile:e.target.files})},a.state={recipeName:"",description:"",ingredients:[{ingredientName:"",amount:""}],images:[],imagesfile:[null],method:"",cookingTime:"",nutrition:"",hardLevel:"",createBy:"",state:"active",toDashboard:!1},a.handleSubmit=a.handleSubmit.bind(Object(K.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=S();this.setState({createBy:e.authenticated})}},{key:"addClick",value:function(){this.setState((function(e){return{ingredients:[].concat(Object(ie.a)(e.ingredients),[{ingredientName:"",amount:""}])}}))}},{key:"createUI",value:function(){var e=this;return this.state.ingredients.map((function(t,a){return l.a.createElement("div",{key:a},l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement($.a,{placeholder:"Ingredient Name",name:"ingredientName",value:t.ingredientName||"",onChange:e.handleChange.bind(e,a),required:!0})),l.a.createElement(A.a,{md:"4"},l.a.createElement($.a,{placeholder:"Ingredient Amount",name:"amount",value:t.amount||"",onChange:e.handleChange.bind(e,a),required:!0})),l.a.createElement(A.a,null,l.a.createElement("a",{href:"#a"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/61/61182.svg",alt:"...",width:"30",height:"30",onClick:e.removeClick.bind(e,a)})))))}))}},{key:"handleChange",value:function(e,t){var a=t.target,n=a.name,l=a.value,r=Object(ie.a)(this.state.ingredients);r[e]=Object(ce.a)({},r[e],Object(B.a)({},n,l.toLowerCase())),this.setState({ingredients:r})}},{key:"removeClick",value:function(e){var t=Object(ie.a)(this.state.ingredients);t.splice(e,1),this.setState({ingredients:t})}},{key:"handleSubmit",value:function(e){console.log(this.state,"$$$$"),e.preventDefault()}},{key:"render",value:function(){return!0===this.state.toDashboard?l.a.createElement(o.a,{to:"/profile"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(T,null),l.a.createElement(te.a,null),l.a.createElement("div",{className:"section landing-section"},l.a.createElement(p.a,null,l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"ml-auto mr-auto",md:"8"},l.a.createElement("h2",{className:"text-center"},"ADD A RECIPE"),l.a.createElement(H.a,{className:"contact-form",onSubmit:this.onSubmit},l.a.createElement(I.a,null,l.a.createElement(A.a,null,l.a.createElement("label",null,"Recipe Name"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"text",name:"recipeName",placeholder:"Enter Recipe Name",value:this.state.recipeName,onChange:this.handleInputChange,required:!0})))),l.a.createElement(I.a,null,l.a.createElement(A.a,null,l.a.createElement("label",null,"Description"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"textarea",rows:"6",name:"description",placeholder:"Enter Description",value:this.state.description,onChange:this.handleInputChange,required:!0})))),l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement(G.a,null,l.a.createElement(me.a,{for:"exampleSelect1"},"Hard Level"),l.a.createElement($.a,{type:"select",name:"hardLevel",value:this.state.hardLevel,onChange:this.handleInputChange,required:!0},l.a.createElement("option",null,"Choose Hard Level"),l.a.createElement("option",null,"very-easy"),l.a.createElement("option",null,"easy"),l.a.createElement("option",null,"hard"),l.a.createElement("option",null,"very-hard")))),l.a.createElement(A.a,{md:"6"},l.a.createElement("label",null,"Cooking Time"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"number",name:"cookingTime",placeholder:"Enter Cooking Time",value:this.state.cookingTime,onChange:this.handleInputChange,required:!0,min:"3"})))),l.a.createElement("label",null,"Method"),l.a.createElement($.a,{name:"method",type:"textarea",rows:"6",placeholder:"Enter Method",value:this.state.method,onChange:this.handleInputChange,required:!0}),l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement(G.a,null,l.a.createElement(me.a,{for:"exampleSelect1"},"Images"),l.a.createElement($.a,{type:"file",className:"form-control",multiple:!0,onChange:this.onChangeHandler,required:!0}))),l.a.createElement(A.a,{md:"6"},l.a.createElement("label",null,"Nutrition"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"text",name:"nutrition",placeholder:"Enter Nutrition",value:this.state.nutrition,onChange:this.handleInputChange,required:!0})))),l.a.createElement("label",null,"Ingredients"),this.createUI(),l.a.createElement("br",null),l.a.createElement($.a,{type:"button",value:"Add More",onClick:this.addClick.bind(this)}),l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"ml-auto mr-auto",align:"center"},l.a.createElement(J.a,{className:"btn-fill",color:"danger",size:"lg"},"Add recipe")))))))),l.a.createElement("form",{hidden:!0,onSubmit:this.handleSubmit},l.a.createElement($.a,{type:"submit",value:"Submit"})),l.a.createElement(D,null))}}]),t}(n.Component),de=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(n.Component),he=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onChangeHandler=function(t){e.setState({imagesfile:t.target.files})},e.handleInputChange=function(t){var a=e.state.recipe,n=t.target,l=n.value,r=n.name;e.setState({recipe:a}),a[r]=l},e.onSubmit=function(t){var a=e.state.recipe;a.ingredients=e.state.ingredients,e.setState({recipe:a}),t.preventDefault();var n=S(),l=e.props.match.params.id;console.log("Updating...");var r=new FormData;if(console.log(e.state.imagesfile),0===e.state.imagesfile.length);else{a.images=[];for(var c=Date.now(),i=0;i<e.state.imagesfile.length;i++){var o=c+i+"."+e.state.imagesfile[i].name.split(".").pop();a.images.push(o),r.append("file",e.state.imagesfile[i],o),r.append("filename",o)}e.setState({recipe:a})}fetch("/api/recipe/"+l,{method:"PUT",body:JSON.stringify({hardLevel:e.state.recipe.hardLevel,description:e.state.recipe.description,recipeName:e.state.recipe.recipeName,method:e.state.recipe.method,cookingTime:e.state.recipe.cookingTime,nutrition:e.state.recipe.nutrition,createBy:n.authenticated,images:e.state.recipe.images||"",ingredients:e.state.recipe.ingredients||""}),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){if(200!==t.status)throw new Error(t.error);console.log(t),0!==e.state.imagesfile.length&&(console.log("Uploading photos"),se.a.post("/api/upload",r).then((function(e){}))),alert("Recipe updated."),e.props.history.push("/profile")})).catch((function(e){console.error(e)}))},e.onChangeHandler=function(t){e.setState({imagesfile:t.target.files})},e.deleteRecipe=function(t){t.preventDefault();var a=e.props.match.params.id;window.confirm("Do you want to delete the recipe ".concat(e.state.recipe.recipeName," permanently?"))&&(fetch("/api/recipe/"+a,{method:"DELETE"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})),e.props.history.push("/profile"))},e.state={recipe:"",profile:"",ingredients:[{ingredientName:"",amount:""}],imagesfile:[]},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S();var t=this.props.match.params.id;fetch("/api/recipe/"+t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({recipe:t[0]}),e.setState({ingredients:t[0].ingredients}),console.log(e.state.recipe)}))}},{key:"addClick",value:function(){this.setState((function(e){return{ingredients:[].concat(Object(ie.a)(e.ingredients),[{ingredientName:"",amount:""}])}}))}},{key:"handleChange",value:function(e,t){var a=t.target,n=a.name,l=a.value,r=Object(ie.a)(this.state.ingredients);r[e]=Object(ce.a)({},r[e],Object(B.a)({},n,l.toLowerCase())),this.setState({ingredients:r})}},{key:"removeClick",value:function(e){var t=Object(ie.a)(this.state.recipe.ingredients);t.splice(e,1),this.setState({ingredients:t})}},{key:"handleSubmit",value:function(e){console.log(this.state,"$$$$"),e.preventDefault()}},{key:"createUI",value:function(){var e=this;return this.state.ingredients.map((function(t,a){return l.a.createElement("div",{key:a},l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement($.a,{placeholder:"Ingredient Name",name:"ingredientName",value:t.ingredientName||"",onChange:e.handleChange.bind(e,a),required:!0})),l.a.createElement(A.a,{md:"4"},l.a.createElement($.a,{placeholder:"Ingredient Amount",name:"amount",value:t.amount||"",onChange:e.handleChange.bind(e,a),required:!0})),l.a.createElement(A.a,null,l.a.createElement("a",{href:"#a"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/61/61182.svg",alt:"Rem",width:"30",height:"30",onClick:e.removeClick.bind(e,a)})))))}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(T,null),l.a.createElement("div",{className:"section landing-section"},l.a.createElement(p.a,null,l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"ml-auto mr-auto",md:"8"},l.a.createElement("h2",{className:"text-center"},"EDIT A RECIPE"),l.a.createElement(H.a,{className:"contact-form",onSubmit:this.onSubmit},l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement("label",null,"Recipe Name"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"text",name:"recipeName",placeholder:"Enter Recipe Name",defaultValue:this.state.recipe.recipeName,onChange:this.handleInputChange}))),l.a.createElement(A.a,{md:"6"},l.a.createElement("label",null,"Description"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"text",name:"description",placeholder:"Enter Description",defaultValue:this.state.recipe.description,onChange:this.handleInputChange})))),l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement(G.a,null,l.a.createElement(me.a,{for:"exampleSelect1"},"Hard Level"),l.a.createElement($.a,{type:"select",name:"hardLevel",defaultValue:this.state.recipe.hardLevel,onChange:this.handleInputChange},l.a.createElement("option",null,"Choose Hard Level"),l.a.createElement("option",null,"very-easy"),l.a.createElement("option",null,"easy"),l.a.createElement("option",null,"hard"),l.a.createElement("option",null,"very-hard")))),l.a.createElement(A.a,{md:"6"},l.a.createElement("label",null,"Cooking Time"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"number",name:"cookingTime",placeholder:"Enter Cooking Time",defaultValue:this.state.recipe.cookingTime,onChange:this.handleInputChange})))),l.a.createElement("label",null,"Method"),l.a.createElement($.a,{name:"method",type:"textarea",rows:"4",placeholder:"Enter Method",defaultValue:this.state.recipe.method,onChange:this.handleInputChange}),l.a.createElement(I.a,null,l.a.createElement(A.a,{md:"6"},l.a.createElement(G.a,null,l.a.createElement(me.a,{for:"exampleSelect1"},"Images"),l.a.createElement($.a,{type:"file",className:"form-control",multiple:!0,onChange:this.onChangeHandler}))),l.a.createElement(A.a,{md:"6"},l.a.createElement("label",null,"Nutrition"),l.a.createElement(V.a,null,l.a.createElement($.a,{type:"text",name:"nutrition",placeholder:"Enter Nutrition",defaultValue:this.state.recipe.nutrition,onChange:this.handleInputChange})))),l.a.createElement("label",null,"Ingredients"),this.createUI(),l.a.createElement("br",null),l.a.createElement($.a,{type:"button",value:"Add More",onClick:this.addClick.bind(this)}),l.a.createElement(I.a,null,l.a.createElement(A.a,{className:"ml-auto mr-auto",md:"2"},l.a.createElement(J.a,{className:"btn-fill",color:"danger",size:"lg"},"Update"),l.a.createElement(J.a,{className:"btn-fill",color:"danger",size:"lg",onClick:this.deleteRecipe},"Delete")))))))),l.a.createElement("form",{hidden:!0,onSubmit:this.handleSubmit},l.a.createElement($.a,{type:"submit",value:"Submit"})),l.a.createElement(D,null))}}]),t}(n.Component);c.a.render(l.a.createElement(i.a,null,l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/index",render:function(e){return l.a.createElement(F,e)}}),l.a.createElement(o.b,{path:"/index02",component:function(e){var t=e.history;return void 0===Object(n.useContext)(w).authenticated&&t.push("/login"),l.a.createElement(U,null)}}),l.a.createElement(o.b,{path:"/login",render:function(e){return l.a.createElement(W,e)}}),l.a.createElement(o.b,{path:"/logout",component:function(e){var t=e.history;return Object(n.useEffect)((function(){k.a.remove("session"),t.push("/")}),[t]),l.a.createElement("div",null,"Logging out!")}}),l.a.createElement(o.b,{path:"/register",render:function(e){return l.a.createElement(Q,e)}}),l.a.createElement(o.b,{path:"/profile",component:function(e){var t=e.history;return void 0===Object(n.useContext)(w).authenticated&&t.push("/login"),l.a.createElement(Y,null)}}),l.a.createElement(o.b,{path:"/details/:id",render:function(e){return l.a.createElement(ae,e)}}),l.a.createElement(o.b,{path:"/edit/:id",render:function(e){return l.a.createElement(he,e)}}),l.a.createElement(o.b,{path:"/search",component:function(e){var t=e.history;return void 0===Object(n.useContext)(w).authenticated&&t.push("/login"),l.a.createElement(re,null)}}),l.a.createElement(o.b,{path:"/addrecipe",component:function(e){var t=e.history;return void 0===Object(n.useContext)(w).authenticated&&t.push("/login"),l.a.createElement(ue,null)}}),l.a.createElement(o.b,{path:"/e401",render:function(e){return l.a.createElement(de,e)}}),l.a.createElement(o.a,{to:"/index"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){var n={"./1588862607678.jpg":71,"./1588862821432.jpg":72,"./1588863323040.jpg":73,"./1588866578897.jpg":74,"./1588868527295.jpg":75,"./1588870755193.png":76,"./1588875161981.png":77,"./1588876448291.jpg":78,"./1588877624126.jpg":79,"./1588877921785.png":80};function l(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=r,e.exports=l,l.id=26},41:function(e,t,a){e.exports=a.p+"static/media/login-image.be9fa468.jpg"},53:function(e,t,a){e.exports=a(105)},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/antoine-barres.ecc6c5f5.jpg"},70:function(e,t,a){e.exports=a.p+"static/media/header.44274a45.jpg"},71:function(e,t,a){e.exports=a.p+"static/media/1588862607678.a57f339e.jpg"},72:function(e,t,a){e.exports=a.p+"static/media/1588862821432.a57f339e.jpg"},73:function(e,t,a){e.exports=a.p+"static/media/1588863323040.0c00dc46.jpg"},74:function(e,t,a){e.exports=a.p+"static/media/1588866578897.a57f339e.jpg"},75:function(e,t,a){e.exports=a.p+"static/media/1588868527295.a57f339e.jpg"},76:function(e,t,a){e.exports=a.p+"static/media/1588870755193.1c61a0be.png"},77:function(e,t,a){e.exports=a.p+"static/media/1588875161981.1c61a0be.png"},78:function(e,t,a){e.exports=a.p+"static/media/1588876448291.44274a45.jpg"},79:function(e,t,a){e.exports=a.p+"static/media/1588877624126.be9fa468.jpg"},80:function(e,t,a){e.exports=a.p+"static/media/1588877921785.1c61a0be.png"}},[[53,1,2]]]);
//# sourceMappingURL=main.b6eceeef.chunk.js.map